<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>netstandard20;netstandard21;net461;net5;net6</TargetFrameworks>
	<AssemblyOriginatorKeyFile>..\DateTimeOnly.snk</AssemblyOriginatorKeyFile>
	<TreatWarningsAsErrors>True</TreatWarningsAsErrors>
	<EnableNETAnalyzers>True</EnableNETAnalyzers>
	<AllowUnsafeBlocks>False</AllowUnsafeBlocks>
	<ImplicitUsings>false</ImplicitUsings>
	<RootNamespace>System</RootNamespace>
	<AnalysisLevel>latest</AnalysisLevel>
	<SignAssembly>true</SignAssembly>
	<LangVersion>latest</LangVersion>
	<WarningLevel>5</WarningLevel>
	<Nullable>enable</Nullable>
	<NoWarn>436;NU5128</NoWarn>
  </PropertyGroup>
	
  <PropertyGroup>
    <!--<GenerateCompatibilitySuppressionFile>true</GenerateCompatibilitySuppressionFile>-->
    <EnableStrictModeForCompatibleFrameworksInPackage>true</EnableStrictModeForCompatibleFrameworksInPackage>
    <EnableStrictModeForCompatibleTfms>true</EnableStrictModeForCompatibleTfms>
    <EnablePackageValidation>true</EnablePackageValidation>
  </PropertyGroup>

  <PropertyGroup>
	<RepositoryUrl>https://github.com/OlegRa/System.DateTimeOnly</RepositoryUrl>
	<Product>DateOnly and TimeOnly types for .NET versions before 6.0</Product>
	<PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
	<Copyright>© 2021 Oleg Rakhmatulin. All rights reserved.</Copyright>
	<IconUrl>http://go.microsoft.com/fwlink/?LinkID=288859</IconUrl>
	<PackageLicenseExpression>MIT</PackageLicenseExpression>
	<GeneratePackageOnBuild>True</GeneratePackageOnBuild>
	<EmbedUntrackedSources>true</EmbedUntrackedSources>
	<PublishRepositoryUrl>true</PublishRepositoryUrl>
	<SymbolPackageFormat>snupkg</SymbolPackageFormat>
	<AssemblyName>System.DateTimeOnly</AssemblyName>
	<PackageTags>DateOnly TimeOnly</PackageTags>
	<IncludeSymbols>true</IncludeSymbols>
	<Authors>Oleg Rakhmatulin</Authors>
	<SignAssembly>True</SignAssembly>
  </PropertyGroup>

  <PropertyGroup>
    <AssemblyVersion>6.0.0.0</AssemblyVersion>
    <FileVersion>6.0.0.0</FileVersion>
    <Version>6.0.0-alpha1</Version>
  </PropertyGroup>

  <ItemGroup Condition="$(TargetFramework.StartsWith('net4')) OR '$(TargetFramework)' == 'netstandard20'">
    <PackageReference Include="System.Memory" Version="4.5.4" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="Resources\Strings.Designer.cs">
      <DependentUpon>Strings.resx</DependentUpon>
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
	</Compile>
    <EmbeddedResource Update="Resources\Strings.resx">
      <LastGenOutput>Strings.Designer.cs</LastGenOutput>
       <Generator>ResXFileCodeGenerator</Generator>
	</EmbeddedResource>
  </ItemGroup>

  <ItemGroup>
    <None Update="Resources\_._" Pack="true" PackagePath="lib\net6.0\" />
    <None Remove="DateTimeOnly.csproj.DotSettings" />
  </ItemGroup>

  <Target Name="RemoveNet6" AfterTargets="_WalkEachTargetPerFramework">
    <ItemGroup>
      <_BuildOutputInPackage Remove="$(MSBuildThisFileDirectory)$(IntermediateOutputPath)net6\$(AssemblyName).*" Pack="false" />
    </ItemGroup>
  </Target>

</Project>
